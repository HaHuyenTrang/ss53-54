<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        Đồng bộ và bất đồng bộ
        1.Đồng bộ: synchronous
        Ngôn ngữ javascript là 1 ngôn ngữ đơn luồng (single-thread:
         chỉ 1 luồng duy nhất: chạy từ trái sang phỉa và từ trên xuống dưới)
        2. Bất đồng bộ: asynchronous
        Những viễ cần thời gian xử lí như các hàm settimeout, setInterval, 
        readfile, writefile, gửi request lên sever, các thao tác tương tác database
        Trong JS sinh ra các cách để xử lí các tác vụ bất đồng bộ
        1. dùng callback
            callback là 1 hàm được truyền vào làm đối số của hàm khác
        2. promise
        3. async - await
     -->
     <script>
        // console.log("công việc 1");
        // setTimeout(()=>{
        // console.log("công việc 2");
        // },1000)
        // console.log("công việc 3");
        function task1(a){
            setTimeout(()=>{
                console.log("công việc 1 được thực hiện");
                a();
            },2000)
        }
        function task2(){
            console.log("đucojw thực thi sau khi task 1 hoàn thành");
        }
        // task1(task2);
        setTimeout(()=>{
            console.log("công việc 1 thực thi");
            setTimeout(()=>{
                console.log("công việc thứ 2 thực thi sau khi cv 1 hoàn thành");
                setTimeout(()=>{
                    console.log("công việc thứ 3 thực thi sau khi cv 2 hoàn thành");
                },7000)
            },3000)
        },1000)
        // khi viết nhiều hàm lồng nhau thì sẽ rơi vào tình trạng callback hell
        let arr=[1,2,3,4,5]
        function myMap(a,b){
            let result=[];
            for (const item of a) {
                result.push(b(item))
            }
            return result;
        }
        myMap(arr,(item)=>item*2)
        // dùng callback để custom lại hàm filter-lọc
        // let result1 = arr.filter((item)=>item>3);
        // console.log(result1);
        function filter(a,b){
            let result=[]
            for (const item of a) {
                if(b(item)){
                  result.push(item)
                }
                
            }
            return result;
        }
        console.log(filter(arr,(item)=>item>3));
     </script>
</body>
</html>